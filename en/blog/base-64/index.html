<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage"><head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="icon" href="/favicon.jpeg">

  <title>
  Base 64  - Hoang Kien
  </title>
  <meta name="description" content=" Câu chuyện của base 64 . Cách thức hoạt động và ứng dụng " />
  <meta name="author" content="Hoàng Kiên" />
  <meta name="generator" content="Hugo 0.103.1" /><link
    rel="stylesheet"
    href="https://hoangtrungkien210895.github.io/css/styles.min.2f015ac763a55747a6d6e8fca987c500f20b660aae267cc780ee9ea56317bdf4.css"
    integrity="sha256-LwFax2OlV0em1uj8qYfFAPILZgquJnzHgO6epWMXvfQ="
  />
  
  

  <meta property="og:title" content="Base 64 " />
<meta property="og:description" content=" Câu chuyện của base 64 . Cách thức hoạt động và ứng dụng " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hoangtrungkien210895.github.io/en/blog/base-64/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2023-01-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-01-21T00:00:00+00:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Base 64 "/>
<meta name="twitter:description" content=" Câu chuyện của base 64 . Cách thức hoạt động và ứng dụng "/>

  <meta itemprop="name" content="Base 64 ">
<meta itemprop="description" content=" Câu chuyện của base 64 . Cách thức hoạt động và ứng dụng "><meta itemprop="datePublished" content="2023-01-21T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-01-21T00:00:00+00:00" />
<meta itemprop="wordCount" content="1399">
<meta itemprop="keywords" content="Base64,how to work,Algorithm," />

  
</head>
<body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative">
  <a href="https://hoangtrungkien210895.github.io/en/" class="capitalize font-extrabold text-2xl">
    
    <img src="/home2.jpeg" alt="Hoang Kien" class="h-12 max-w-full" />
    
  </a>
  <button class="mobile-menu-button md:hidden">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <line x1="4" y1="8" x2="20" y2="8" />
      <line x1="4" y1="16" x2="20" y2="16" />
    </svg>
  </button>
  <ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800">

    
    <li><a href="/en/blog">Blog của Kiên</a></li>
    
    <li><a href="/en/page/about/">About&#39;s Kiên</a></li>
    

    
    
    <li class="flex items-center">
      
    </li>
    
    

    

    
    <li class="grid place-items-center">
      <span class="toggle-dark-mode inline-block cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5"
          stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
          <path stroke="none" d="M0 0h24v24H0z" fill="none" />
          <circle cx="12" cy="12" r="3" />
          <line x1="12" y1="5" x2="12" y2="5.01" />
          <line x1="17" y1="7" x2="17" y2="7.01" />
          <line x1="19" y1="12" x2="19" y2="12.01" />
          <line x1="17" y1="17" x2="17" y2="17.01" />
          <line x1="12" y1="19" x2="12" y2="19.01" />
          <line x1="7" y1="17" x2="7" y2="17.01" />
          <line x1="5" y1="12" x2="5" y2="12.01" />
          <line x1="7" y1="7" x2="7" y2="7.01" />
        </svg>
      </span>
    </li>
    
  </ul>
</header>
<main class="flex-1">
  
  

  
  <div class="relative max-w-5xl mx-auto px-4">
    <img src="/base64.jpg" class="rounded-lg shadow-sm w-10/12 object-contain" />
    
    <div class="absolute top-5 right-50 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">
      
  
    January 21, 2023
  


    </div>
    
  </div>
  

  <article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4">

    <h1 class="text-2xl font-bold mb-2">Base 64 </h1>
    
    <h5 class="text-sm flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <rect x="4" y="5" width="16" height="16" rx="2" />
        <line x1="16" y1="3" x2="16" y2="7" />
        <line x1="8" y1="3" x2="8" y2="7" />
        <line x1="4" y1="11" x2="20" y2="11" />
        <rect x="8" y="15" width="2" height="2" />
      </svg>
      Posted on 
  
    January 21, 2023
  


      
        &nbsp;&bull;&nbsp;
      
      <svg xmlns="http://www.w3.org/2000/svg" class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <circle cx="12" cy="12" r="9" />
        <polyline points="12 7 12 12 15 15" />
      </svg>
      7&nbsp;minutes
      &nbsp;&bull;
      <svg xmlns="http://www.w3.org/2000/svg" class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
        <path d="M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <path d="M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0" />
        <line x1="3" y1="6" x2="3" y2="19" />
        <line x1="12" y1="6" x2="12" y2="19" />
        <line x1="21" y1="6" x2="21" y2="19" />
      </svg>
      1399&nbsp;words
      
        
      
    </h5>
    

    <h3>Mở đầu:</h3>
<p>Lời đầu : Hôm nay mình sẽ giới thiệu đến anh em về base64 cũng như cách thức hoạt động của base64</p>
<p>Hoặc cũng chỉ đơn giản bài này trả lời thắc mắc của anh em tại sao chỉ với một chuỗi các ký tự nhưng base64 lại có thể hiện thị các hình ảnh.</p>
<p>Mục tiêu bài này:</p>
<ul>
<li>
<p>Đưa cho anh em hiểu về câu chuyện của base64 , khái niệm về base64</p>
</li>
<li>
<p>Cách thức hoạt động của base64</p>
</li>
<li>
<p>Ứng dụng trong việc mã hóa hình ảnh bằng base 64 và khuyết điểm</p>
</li>
</ul>
<h3>Câu chuyện và khái niệm về base64:</h3>
<p>Mình có tìm được đoạn trích nhỏ khá hay nói về câu chuyện ra đời của base64 trích dẫn :</p>
<p><strong>&quot; The history of the Base64 started long ago, in those times when engineers argued how many bits should be in a byte. Now we use eight-bit bytes, but before that were used seven-bit, six-bit, and even three-bit bytes. By the time the eight-bit encoding was approved as a standard, many systems used old encodings and did not support the “new standard”. This led to the fact that some data was simply lost during the transfer between the new and the old systems. For example, a mail server may discard the eighth bit when sending emails. Moreover, there was another problem with mail servers — they could only send text, but not binary data (such as images, video, archives). And so, in a magical way, clever minds develop an algorithm to solve these problems. Of course, over time, other binary-to-text encodings were developed, but thanks to the simplicity, efficiency and portability, Base64 became the most popular and was used almost everywhere. &ldquo;</strong></p>
<p>Đoạn văn này tạm dịch như sau : &ldquo;Câu chuyện lịch sử của base64 bắt đầu từ rất lâu về trước . Từ cái thời khi các ông kỹ sư còn đang tranh luận về việc thiết kế trong một byte thì nên chứa bao nhiêu bit. Hiện tại chúng ta đã sử dụng 8 bit trong 1 byte nhưng trước đó chúng ta đã từng dùng 7 bit , 6 bit và thậm chí là 3 bit trong một byte . Theo dòng thời gian khi mà 8 bit đã được công nhận làm chuẩn . Thì rất nhiều hệ thống cũ vẫn sử dụng những chuẩn mã hóa cũ và chưa hỗ trợ &ldquo;tiêu chuẩn 8 bit mới&rdquo;. Nó dẫn tới dữ liệu trong quá trình truyền tải giữa hệ thống cũ và hệ thống mới thì bị mất dữ liệu . Ví dụ cho việc này khi bạn gửi dùng hệ thống hỗ trợ chuẩn lưu 8 bit gửi mail nếu server mail này dùng chuẩn giao tiếp 7 bit thì việc gửi này có thể dẫn đến việc bit thứ 8 trong byte của bạn sẽ bị &ldquo;lost&rdquo;. Hơn nữa còn có vấn đề khác của mail server khi nó được thiết kế để chỉ có thể gửi được ký tự chứ không phải các dữ liệu khác như ảnh , video hay file nén. Bởi vậy bằng một cách thần kỳ những bộ óc thông minh đã triển khai ra một thuật toán để giải quyết các vấn đề trên (chính là base64) . Dĩ nhiên qua thời gian các thuật toán khác xuất hiện nhưng nhờ tính đơn giản , hiệu quả , khả năng linh hoạt base 64 đã trở nên phổ biến nhất và được sử dụng ở khắp mọi nơi &quot;</p>
<p>Định Base64 là gì ?</p>
<ul>
<li>Base64 là thuật toán mã hóa cho phép bạn chuyển đổi các tập hợp bit thông tin trong các văn bản , hình ảnh , video , file nén thành các ký tự được quy định . Và cho phép chuyển đổi ngược lại các ký tự được quy định đó thành các bit thông tin tạo ra nó .
(anh em có thể tham khảo bài viết tại sao bản chất các thông tin như hình ảnh , chữ viết , âm thanh &hellip; lại có thể biểu diễn dưới dạng các bit <a href="https://hoangtrungkien210895.github.io/en/blog/van-vat-internet/" target="_blank" rel="noopener">https://hoangtrungkien210895.github.io/en/blog/van-vat-internet/</a>
)</li>
</ul>
<h3>Cách thức hoạt động của base64</h3>
<p>1 : Ta có bảng để mã hóa base64 gồm 3 cột:</p>
<p>index(số thứ tự ) , Binary( đoạn bit đại diện ) , Char( ký tự mã hóa tương ứng với binary đó)</p>
<p><img src="/base64-table.png" alt="Placeholder"></p>
<p>2: Bài toán đưa ra mã hóa base64 đoạn văn sau : &ldquo;kien&rdquo;</p>
<p>Bước 1 : Ta phân tích :</p>
<ul>
<li>&ldquo;kien&rdquo; được cấu thành từ các bits : 01101011 01101001 01100101 01101110</li>
<li>trong đó mỗi ký tự cấu thành từ 8 bit liên tiếp đọc từ trái qua phải</li>
</ul>
<p>Bước 2 : Lập bảng giả lập tính toán (cho mã hóa &ldquo;kien&rdquo;)</p>
<ul>
<li>Ta lấy 24 bit liên tiếp (vd: &ldquo;kie&rdquo; mỗi ký tự là 8 bit tổng 24 bit) . Với mỗi 24 bit liền kề ta lại chia thành 4 phần bằng nhau mỗi phần gồm 6 bit -&gt; mỗi 6 bit này ta dựa vào bảng mã hóa base64 để chuyển đổi sang ký tự mã hóa tương ứng</li>
</ul>
<p><img src="/base64-mahoa-1.png" alt="Placeholder"></p>
<ul>
<li>Nếu lấy tiếp mà không đủ 24 bit liên tiếp . ta giả dụ vẫn chia thành 4 phần bằng nhau với mỗi phần gồm 6 bit .</li>
</ul>
<p>TH1: chỉ có 16 bit liên tiếp (tương ứng 2 ký tự mỗi ký tự 8 bit) . 12 bit đầu hình thành 2  ký tự mã hóa . dư 4 bit sau mượn thêm 2 bit 0 0 -&gt; để hình thành 1 ký tự mã hóa . vậy còn 1 phần còn lại không có bit để điền vào ta sẽ thay thế với ký tự đặc biệt &ldquo;pading&rdquo; là: =</p>
<p>TH2 : chỉ có 8 bit liên tiếp tương ứng 1 ký tự . 6 bit đầu hình thành 1 ký tự mã hóa . dư 2 bit sau mượn thêm 4 bit 0 0 0 0 -&gt; để hình thành 1 ký tự mã hóa . vậy còn 2 phần còn lại không có bit để điền vào ta sẽ thay thế với ký tự đặc biệt &ldquo;pading&rdquo; là: ==</p>
<p>(ví dụ với &ldquo;n&rdquo; của &ldquo;kien&rdquo; hình dưới)</p>
<p><img src="/base64-mahoa-2.png" alt="Placeholder"></p>
<p>Vậy sau khi lập bảng phân tích ta có mã hóa base64 của &ldquo;kien&rdquo; sẽ là:  &ldquo;a2llbg==&rdquo;</p>
<h3>Ứng dụng trong việc mã hóa hình ảnh bằng base 64 và khuyết điểm</h3>
<p>Ví dụ mình có một hình ảnh mặt cười như sau sẽ được mã hóa base64 và gửi qua internet :</p>
<p><img src="/cuoi.png" alt="Placeholder"></p>
<p>Ta sẽ dùng tool để kiểm tra image này được hình thành từ các bit như nào và phân tích mẫu 24 bit đầu của ảnh:</p>
<p><img src="/base-img-1.png" alt="Placeholder"></p>
<p>Với việc áp dụng công thức lấy 24 bit liên tiếp ta có thể thấy
100010 =&gt; i , 010101 =&gt; V , 000001 =&gt; B , 001110 =&gt; O</p>
<p>=&gt; ký tự mã hóa của ảnh đầu tiên sẽ là &ldquo;iVBO&rdquo;</p>
<p>Tiếp tục lấy 24 bit tiếp theo cho phần còn lại tương tự như thế để tính .</p>
<p>Các bạn có thể tải ảnh mặt cười bên trên của mình và test thử trên <a href="https://base64-image.de" target="_blank" rel="noopener">https://base64-image.de</a>
</p>
<p>Sẽ có được kết quả base64 dữ liệu sau khi mã hóa khớp với chuỗi đầu là &ldquo;iVBO&rdquo; :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">data:</span>image<span style="color:#ff79c6">/</span>png<span style="color:#ff79c6">;</span>base64<span style="color:#ff79c6">,</span>iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApgAAAKYB3X3<span style="color:#ff79c6">/</span>OAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAANCSURBVEiJtZZPbBtFFMZ<span style="color:#ff79c6">/</span>M7ubXdtdb1xSFyeilBapySVU8h8OoFaooFSqiihIVIpQBKci6KEg9Q6H9kovIHoCIVQJJCKE1ENFjnAgcaSGC6rEnxBwA04Tx43t2FnvDAfjkNibxgHxnWb2e<span style="color:#ff79c6">/</span>u992bee7tCa00YFsffekFY<span style="color:#ff79c6">+</span>nUzFtjW0LrvjRXrCDIAaPLlW0nHL0SsZtVoaF98mLrx3pdhOqLtYPHChahZcYYO7KvPFxvRl5XPp1sN3adWiD1ZAqD6XYK1b<span style="color:#ff79c6">/</span>dvE5IWryTt2udLFedwc1<span style="color:#ff79c6">+</span>9kLp<span style="color:#ff79c6">+</span>vbbpoDh<span style="color:#ff79c6">+</span>6TklxBeAi9TL0taeWpdmZzQDry0AcO<span style="color:#ff79c6">+</span>jQ12RyohqqoYoo8RDwJrU<span style="color:#ff79c6">+</span>qXkjWtfi8Xxt58BdQuwQs9qC<span style="color:#ff79c6">/</span>afLwCw8tnQbqYAPsgxE1S6F3EAIXux2oQFKm0ihMsOF71dHYx<span style="color:#ff79c6">+</span>f3NND68ghCu1YIoePPQN1pGRABkJ6Bus96CutRZMydTl<span style="color:#ff79c6">+</span>TvuiRW1m3n0eDl0vRPcEysqdXn<span style="color:#ff79c6">+</span>jsQPsrHMquGeXEaY4Yk4wxWcY5V<span style="color:#ff79c6">/</span>9scqOMOVUFthatyTy8QyqwZ<span style="color:#ff79c6">+</span>kDURKoMWxNKr2EeqVKcTNOajqKoBgOE28U4tdQl5p5bwCw7BWquaZSzAPlwjlithJtp3pTImSqQRrb2Z8PHGigD4RZuNX6JYj6wj7O4TFLbCO<span style="color:#ff79c6">/</span>Mn<span style="color:#ff79c6">/</span>m8R<span style="color:#ff79c6">+</span>h6rYSUb3ekokRY6f<span style="color:#ff79c6">/</span>YukArN979jcW<span style="color:#ff79c6">+</span>V<span style="color:#ff79c6">/</span>S8g0eT<span style="color:#ff79c6">/</span>N3VN3kTqWbQ428m9<span style="color:#ff79c6">/</span>8k0P<span style="color:#ff79c6">/</span>1aIhF36PccEl6EhOcAUCrXKZXXWS3XKd2vc<span style="color:#ff79c6">/</span>TRBG9O5ELC17MmWubD2nKhUKZa26Ba2<span style="color:#ff79c6">+</span>D3P<span style="color:#ff79c6">+</span>4<span style="color:#ff79c6">/</span>MNCFwg59oWVeYhkzgN<span style="color:#ff79c6">/</span>JDR8deKBoD7Y<span style="color:#ff79c6">+</span>ljEjGZ0sosXVTvbc6RHirr2reNy1OXd6pJsQ<span style="color:#ff79c6">+</span>gqjk8VWFYmHrwBzW<span style="color:#ff79c6">/</span>n<span style="color:#ff79c6">+</span>uMPFiRwHB2I7ih8ciHFxIkd<span style="color:#ff79c6">/</span>3Omk5tCDV1t<span style="color:#ff79c6">+</span>2nNu5sxxpDFNx<span style="color:#ff79c6">+</span>huNhVT3<span style="color:#ff79c6">/</span>zMDz8usXC3ddaHBj1GHj<span style="color:#ff79c6">/</span>As08fwTS7Kt1HBTmyN29vdwAw<span style="color:#ff79c6">+/</span>wbwLVOJ3uAD1wi<span style="color:#ff79c6">/</span>dUH7Qei66PfyuRj4Ik9is<span style="color:#ff79c6">+</span>hglfbkbfR3cnZm7chlUWLdwmprtCohX4HUtlOcQjLYCu<span style="color:#ff79c6">+</span>fzGJH2QRKvP3UNz8bWk1qMxjGTOMThZ3kvgLI5AzFfo379UAAAAASUVORK5CYII<span style="color:#ff79c6">=</span></span></span></code></pre></div>
<p>Kết luận :
Vậy ta có thể tượng tượng như sau khi mã hóa base64 file ảnh. Thực chất là mã hóa các bits cấu thành file ảnh thành các ký tự mã hóa. Ta dùng các ký tự mã hóa này và gửi chúng qua internet.</p>
<p>Sau khi máy tính khác nhận được muốn hiển thị lại dựa vào bảng mã hóa .Phiên dịch các ký tự mã hóa ra thành các bits đại diện cho ký tự đó. Máy tính đọc các bits ảnh và hiển thị ra ảnh .</p>
<p>Khuyết điểm:</p>
<p>Với thuật toán base64 thì trung bình cứ mỗi 6 bit dữ liệu gốc ta tạo ra 1 ký tự( tương đương 8 bit) được lưu trên máy =&gt;  trung bình 1 bit trước khi sử dụng base64 sẽ tạo 1,33333333 bit mã hóa</p>
<p>Nếu vậy khi ta mã hóa 1 file ảnh 1mb sẽ sinh ra khoảng 1,3333333mb dữ liệu mã hóa  ( tương đương cần 1,859,474 ký tự mã hóa)</p>
<p>=&gt; vậy ta có thể thấy khi mã hóa như vậy sẽ không thích hợp với những file dữ liệu lớn trong việc lưu trữ và xử lý</p>
<p>Hoàng Kiên 21/01/2023
</p>

  </article><div class="bg-blue-100 dark:bg-gray-900">
  <div class="container px-6 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
    <div>
      <div class="text-2xl font-bold mb-2">Follow me</div>
      <p class="opacity-60">Theo dõi group trên facebook của mình</p>
    </div>
    <ul class="flex justify-center gap-4">
      
      <li>
        <a
          href="https://www.facebook.com/groups/1058223478229630"
          target="_blank"
          rel="noopener"
          aria-label="facebook"
          class="p-2 inline-block rounded-full border border-transparent text-gray-500 hover:text-gray-800 hover:border-gray-800 cursor-pointer transition-colors dark:text-gray-600 dark:hover:border-gray-300 dark:hover:text-gray-300"
        >
        <svg xmlns="http://www.w3.org/2000/svg"
         xmlns:xlink="http://www.w3.org/1999/xlink" 
         version="1.0" x="0px" y="0px" 
         width="50" 
         height="50" 
         viewBox="0 0 50 50" 
         class="icon icons8-Facebook-Filled" >   
          <path d="M40,0H10C4.486,0,0,4.486,0,10v30c0,5.514,4.486,10,10,10h30c5.514,0,10-4.486,10-10V10C50,4.486,45.514,0,40,0z M39,17h-3 c-2.145,0-3,0.504-3,2v3h6l-1,6h-5v20h-7V28h-3v-6h3v-3c0-4.677,1.581-8,7-8c2.902,0,6,1,6,1V17z"></path>
        </svg>

        </a>
      </li>
      
      
      
      
      
      
      
      
      
      
    </ul>
  </div>
</div>
    </main><footer class="container p-6 mx-auto flex justify-between items-center">
  <span class="text-sm font-light">
    
    Copyright © 2021 - Katheryn Fox · All rights reserved
    
  </span>
  <span onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="p-1 cursor-pointer">
    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5"
      stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M18 15l-6 -6l-6 6h12" />
    </svg>
  </span>
</footer>







<script>
  
  const darkmode = document.querySelector('.toggle-dark-mode');
  function toggleDarkMode() {
    if (document.documentElement.classList.contains('dark')) {
      document.documentElement.classList.remove('dark')
      localStorage.setItem('darkmode', 'light')
    } else {
      document.documentElement.classList.add('dark')
      localStorage.setItem('darkmode', 'dark')
    }
  }
  if (darkmode) {
    darkmode.addEventListener('click', toggleDarkMode);
  }

  const darkStorage = localStorage.getItem('darkmode');
  const isBrowserDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

  if (!darkStorage && isBrowserDark) {
    document.documentElement.classList.add('dark');
  }

  if (darkStorage && darkStorage === 'dark') {
    toggleDarkMode();
  }
</script>


<script>
  const mobileMenuButton = document.querySelector('.mobile-menu-button')
  const mobileMenu = document.querySelector('.mobile-menu')
  function toggleMenu() {
    mobileMenu.classList.toggle('hidden');
    mobileMenu.classList.toggle('flex');
  }
  if(mobileMenu && mobileMenuButton){
    mobileMenuButton.addEventListener('click', toggleMenu)
  }
</script>
</body>
</html>
